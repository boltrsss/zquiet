(()=>{var Nt=Object.create;var F=Object.defineProperty;var Ct=Object.getOwnPropertyDescriptor;var At=Object.getOwnPropertyNames,it=Object.getOwnPropertySymbols,Jt=Object.getPrototypeOf,ct=Object.prototype.hasOwnProperty,jt=Object.prototype.propertyIsEnumerable;var ot=(o,n,c)=>n in o?F(o,n,{enumerable:!0,configurable:!0,writable:!0,value:c}):o[n]=c,f=(o,n)=>{for(var c in n||(n={}))ct.call(n,c)&&ot(o,c,n[c]);if(it)for(var c of it(n))jt.call(n,c)&&ot(o,c,n[c]);return o};var q=(o,n)=>()=>(o&&(n=o(o=0)),n);var Dt=(o,n)=>()=>(n||o((n={exports:{}}).exports,n),n.exports);var Pt=(o,n,c,i)=>{if(n&&typeof n=="object"||typeof n=="function")for(let m of At(n))!ct.call(o,m)&&m!==c&&F(o,m,{get:()=>n[m],enumerable:!(i=Ct(n,m))||i.enumerable});return o};var Gt=(o,n,c)=>(c=o!=null?Nt(Jt(o)):{},Pt(n||!o||!o.__esModule?F(c,"default",{value:o,enumerable:!0}):c,o));var p=(o,n,c)=>new Promise((i,m)=>{var S=b=>{try{g(c.next(b))}catch(I){m(I)}},C=b=>{try{g(c.throw(b))}catch(I){m(I)}},g=b=>b.done?i(b.value):Promise.resolve(b.value).then(S,C);g((c=c.apply(o,n)).next())});var rt,st=q(()=>{rt="WebPixel::Render"});var L,_t=q(()=>{st();L=o=>shopify.extend(rt,o)});var dt=q(()=>{_t()});var lt=q(()=>{dt()});var pt=Dt(Q=>{lt();function M(){let o=["tt_info","cookie","src","contents","type","2UYsogO","localStorage","hashed","paymentOnDelivery","then","order","tt_sessionId","forEach","subscribe","valid","stringify","DhjwkbsbWf~jbis","getItem","title","parse","4824044pDBmXn","page_viewed","tt_pixel_session_index"," and","OT_TT_CHECK_EXPIRED","https://apps3.omegatheme.com/shopify/tiktok-multi-pixels/server.php","ot_tik_tok_campaign_id","toLowerCase","12172070GWOkyD","from","currency","checkout_completed","getRandomValues","variant","quantity","toUpperCase","OT_TT_LOADID","application/json","missing","ttp","lineItems","page_view_id","external_id_tik_tok_pixel","7IAbIZV","&product_ids[]=","join","cart_viewed","navigator","POST","product_added_to_cart","ot_tik_tok_utm_terms","ttclid","trim","slice","random","pixelsCapi","product_group","348lGpniP","content_type_event","charCodeAt","checkout","5XSavQv","undefined","enable_deduplication","SHA-256","ot_tik_tok_utm_contents","document","setItem","action","encode","external_id","Jbsfcfsf","=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;","length","2.2.0","totalPrice","fromCharCode","product_viewed","data","abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890","event_id","pixel.js","error","enable","/api/external/ads-report/update-data-purchase","location","userAgent","updated_web_pixel_at","now","empty_value","9rGOphE","main","transactions","pixels","Error processing pixel:","test_2_single_track","phone_number","toString","1140846KeOwkC","message_id","value","osswt=((fifk~sndt)snlshl)dhj(fwn(q5(wn\x7Fbk","product","json","include_shippping_cost","ot_tik_tok_ttclid","ot_tik_tok_ad_group_id"," - ","tt_appInfo","ot_tik_tok_ad_id","name","1749324nAGejq","WkfdbFiHucbu","toFixed","amount","href","OT_TT_SETTINGS","timestamp","customer_email","ot_tik_tok_utm_campaign","OT_TT_SHOP","context","email","map","external","sessionStorage","&customer_email=","split","digest","concat","522805AsIxll","reduce","set","GET","13433656XZHITd","image"," other item","device","product_ids","get","108955pGKTIy"];return M=function(){return o},M()}function R(o,n){let c=M();return R=function(i,m){return i=i-329,c[i]},R(o,n)}(function(o,n){let c=R,i=o();for(;;)try{if(parseInt(c(416))/1*(parseInt(c(432))/2)+-parseInt(c(384))/3+parseInt(c(447))/4*(parseInt(c(347))/5)+-parseInt(c(397))/6*(-parseInt(c(329))/7)+-parseInt(c(420))/8+parseInt(c(376))/9*(parseInt(c(455))/10)+parseInt(c(426))/11*(-parseInt(c(343))/12)===n)break;i.push(i.shift())}catch(m){i.push(i.shift())}})(M,890843);L(c=>p(Q,[c],function*({analytics:o,browser:n}){var z;let i=R,m=i(452),S=n[i(433)][i(444)](i(451)),C=yield n.localStorage[i(444)](i(406)),g=(z=JSON[i(446)](yield n[i(433)][i(444)](i(427))))!=null?z:{},b=7,I=O(i(443),b),ut=O("Wf`bQnbp",b),A=O(i(357),b),V=O(i(398),b),Z="::",B="messageId",mt=8999999999999,bt=function(a){let t=i;return((e=21)=>crypto[t(459)](new Uint8Array(e))[t(417)]((x,s)=>x+((s&=63)<36?s.toString(36):s<62?(s-26)[t(383)](36)[t(462)]():s>62?"-":"_"),""))(a)};function ht(a,t="",e="-"){return""+a+e+t}function Y(a){let t=i;return"".concat(a,"-")[t(415)](Date.now(),"-")[t(415)](Math.floor(mt*Math[t(340)]())+1e12)}function gt(a=Date[i(374)]()[i(383)]()){return a+"-"+bt(5)}o[i(440)]("all_events",a=>p(Q,null,function*(){var d,y,T,E,N,$,tt;let t=i,e=(d=JSON[t(446)](yield n[t(411)][t(444)](t(449))))!=null?d:{index:1,main:1},x=JSON[t(446)](yield n.localStorage[t(444)](t(402))),s=x!==null?x.content_type_event:S[t(344)],r=x!==null?x[t(349)]:S[t(349)],u=x!==null?x==null?void 0:x.check_place_order_event:!1,_=(y=JSON.parse(yield n[t(411)].getItem(t(394))))!=null?y:null,h=yield n[t(428)][t(425)]("_ttp"),l=(T=yield n[t(411)][t(444)](t(438)))!=null?T:"";if(l=l.replace(/"/g,""),a[t(396)]==t(448)||a.name==t(363)){let D=(E=yield n[t(433)].getItem(t(463)))!=null?E:a.id.substring(3)[t(454)](),P=gt(l?l[t(413)](Z)[0]:"");n[t(433)][t(353)](t(427),JSON.stringify({device:_,ttp:h,tt_sessionId:l,page_view_id:P+("."+(e[t(377)]+1)+".0")+Z+D}))}if(a[t(396)]==t(335)&&n[t(433)][t(353)]("product_added_to_cart_tik_tok_omega",JSON[t(442)]({dataEvent:a})),a[t(396)]==t(332)&&n.localStorage[t(353)]("fk_checkout_started_event_ic_tik_tok_omega",JSON[t(442)]({dataEvent:a})),a[t(396)]==t(458)&&x!==null&&x[t(369)]=="1"&&x[t(373)]!==null){let D=a[t(364)].checkout;if(((N=D[t(467)])==null?void 0:N.length)>0){let P=yield wt(D,s,x),et=yield Ot(a[t(364)][t(346)]),G=yield yt(P[t(424)],et[t(404)]);if(typeof G.pixels!==t(348)&&typeof G[t(341)]!==t(348)){let U=G[t(379)],X=G[t(341)],H=yield ft(P,a),W=yield kt(a,et);if(a.data.checkout.transactions){let xt=function(){let w=t;U[w(359)]>0&&U[w(439)](v=>p(this,null,function*(){yield J(W,H,a,v,!1)})),X[w(359)]>0&&r==1&&X.forEach(v=>p(this,null,function*(){yield J(W,H,a,v,!1)}))},Et=function(){let w=t;at?(U.length>0&&U[w(439)](v=>p(this,null,function*(){yield J(W,H,a,v,!0)})),X[w(359)]>0&&r==1&&X[w(439)](v=>p(this,null,function*(){yield J(W,H,a,v,!0)}))):xt()},at=!1;a.data[t(346)][t(378)][t(439)](w=>{var nt;let v=t;((nt=w==null?void 0:w.paymentMethod)==null?void 0:nt[v(431)])===v(435)&&(at=!0)}),u?Et():xt()}It((tt=($=a[t(364)].checkout)==null?void 0:$[t(437)])==null?void 0:tt.id)}}}}));function wt(a,t,e){return p(this,null,function*(){var h;let x=i,s=e!=null&&e[x(390)]?a[x(361)][x(400)]:a.subtotalPrice.amount,r=[],u=[],_=1;return(h=a.lineItems)==null||h[x(439)](l=>p(this,null,function*(){let d=x,y=l[d(460)].product.id,T=l.variant_title?l[d(445)]+d(393)+l[d(460)][d(445)]:l[d(445)];r.push(y);let E=d(342),N=y;t==_&&(N=l[d(460)].id,E=d(388)),u.push({content_id:""+N,content_name:T,content_type:E,price:""+l[d(460)].price[d(400)],quantity:l[d(461)]})})),{product_ids:r,contents:u,value:""+s,currency:a[x(361)].currencyCode}})}function J(a,t,e,x,s){return p(this,null,function*(){var l,d;let r=i,u=e.data[r(346)],_=((l=u[r(467)])==null?void 0:l[r(359)])>1?r(450)+(((d=u.lineItems)==null?void 0:d[r(359)])-1)+r(422):"";a=f({pageview_id:g[r(468)]+"-"+x,pixel:{code:x,runtime:"1"},session_id:g.tt_sessionId+"-"+x},a);let h=f({event:s?V:I,auto_collected_properties:{page_trigger:ut,content_data:{json_ld:"[]",meta:JSON[r(442)]({title:e[r(407)][r(352)][r(445)]}),microdata:"[]",open_graph:JSON.stringify({"og:title":u[r(467)][0][r(445)]+_,"og:image":u[r(467)][0].variant[r(421)][r(429)]})}},event_id:u[r(437)].id,message_id:ht(Y(B),x),context:a},t);try{s?(yield j(h,V),yield j(h,A)):(yield j(h,I),yield j(h,A)),Tt(n)}catch(y){console[r(368)](r(380),y)}})}function ft(a,t){return p(this,null,function*(){let e=i;return{is_onsite:!1,properties:{contents:a[e(430)],currency:a[e(457)],value:a[e(386)]},signal_diagnostic_labels:{raw_email:{label:"missing"},raw_auto_email:{label:e(465)},raw_phone:{label:e(465)},raw_auto_phone:{label:"missing"},hashed_email:{label:e(441)},hashed_phone:{label:e(441)}},timestamp:t[e(403)],_inspection:{identity_params:{email_is_hashed:[e(434)],sha256_email:[e(375)],phone_is_hashed:["filter_events",e(434)],sha256_phone:[e(375)]}}}})}function kt(a,t){return p(this,null,function*(){let e=i;return{ad:{sdk_env:e(410),jsb_status:2},device:g[e(423)],library:{name:e(367),version:e(360)},page:{load_progress:"1",referrer:a[e(407)].document.referrer,url:a[e(407)][e(352)][e(371)][e(401)]},user:f(f(f(f({},(g==null?void 0:g[e(466)])&&{anonymous_id:g[e(466)]}),(t==null?void 0:t.email)&&{email:t[e(408)]}),(t==null?void 0:t[e(356)])&&{external_id:t[e(356)]}),(t==null?void 0:t.phone_number)&&{phone_number:t[e(382)]}),userAgent:a.context[e(333)][e(372)],variation_id:e(381)}})}function O(a,t){let e=i;return a[e(413)]("")[e(409)](x=>String[e(362)](x[e(345)](0)^t))[e(331)]("")}function j(a,t){return p(this,null,function*(){let e=i,x=e(387),s=O(x,b);return t==A&&(a[e(385)]=Y(B),a[e(366)]="",a[e(354)]=A,a.properties={},s=s+"/act"),yield fetch(s,{method:e(334),headers:{"Content-Type":e(464)},body:JSON[e(442)](a),keepalive:!0})})}function yt(a,t){return p(this,null,function*(){let e=i;return yield fetch(m+"/api/external/pixels/purchase?shop="+C+e(330)+a+e(412)+t,{method:e(419)}).then(x=>x[e(389)]())[e(436)](x=>x[e(364)])})}function vt(){return p(this,null,function*(){let a=i;return{ttclid:yield k(a(391)),utm_source:yield k("ot_tik_tok_utm_source"),utm_campaign:encodeURIComponent(yield k(a(405))),ad_group:(yield k("ot_tik_tok_ad_group"))||(yield k(a(336))),ad:(yield k("ot_tik_tok_ad"))||(yield k(a(351))),campaign_id:yield k(a(453)),ad_group_id:yield k(a(392)),ad_id:yield k(a(395))}})}function k(a){return p(this,null,function*(){let t=i,e=yield n[t(428)][t(425)](""+a);return e!=null?e:""})}function It(a){return p(this,null,function*(){let t=i,e=yield St(36),x=yield vt();return(yield(yield fetch(m+t(370),{method:t(334),headers:{"Content-Type":t(464)},body:JSON[t(442)]({shop:C,external_id:e,utm:x!=null&&x[t(337)]?x:null,order_id:a})}))[t(389)]()).data})}function St(a){return p(this,null,function*(){let t=i;for(var e=t(365)[t(413)](""),x=[],s=0;s<a;s++){var r=(Math[t(340)]()*(e[t(359)]-1))[t(399)](0);x[s]=e[r]}return yield n.localStorage[t(444)](t(469))})}function Ot(a){return p(this,null,function*(){let t=i,{order:e,email:x,phone:s,billingAddress:r,shippingAddress:u}=a,{customer:_}=e,h=yield K((_==null?void 0:_.id)||""),l=_!=null&&_.email||x?yield K((_==null?void 0:_[t(408)])||x):"",d=(_==null?void 0:_.phone)||s||(r==null?void 0:r.phone)||(u==null?void 0:u.phone)||"",y=d?yield K(d):"";return f(f(f(f({},h&&{external_id:h}),l&&{email:l}),y&&{phone_number:y}),_!=null&&_[t(408)]||x?{customer_email:(_==null?void 0:_.email)||x}:{})})}function K(a){return p(this,null,function*(){let t=i,e=new TextEncoder("utf-8")[t(355)](String(a)[t(454)]()[t(338)]()),x=yield crypto.subtle[t(414)](t(350),e);return Array[t(456)](new Uint8Array(x))[t(409)](r=>("00"+r.toString(16))[t(339)](-2))[t(331)]("")})}function Tt(a){let t=i;[t(391),"ot_tik_tok_utm_source",t(405),"ot_tik_tok_ad_group","ot_tik_tok_utm_terms","ot_tik_tok_ad",t(351),"ot_tik_tok_campaign_id",t(392),"ot_tik_tok_ad_id"].forEach(x=>{let s=t;a[s(428)][s(418)](x+s(358))})}}))});var Vt=Gt(pt());})();
