const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["component-ShopPayWrapper.BX2Rk6ld.js","app.ZXowmuNl.js","assets/app.Bq0sGAT6.css","monorail.D5ZCtQKH.js","useIsOriginatedFromShop.B6Wc5W-P.js"])))=>i.map(i=>d[i]);
import{hr as rn,hs as ln,_ as cn,bZ as G,a as e,j0 as dn,eU as un,j1 as hn,E as Fe,z as te,d as z,i as j,a0 as ie,fe as pn,j2 as mn,a3 as gn,j3 as yn,dl as fn,bk as Se,j4 as Sn,K as we,j5 as je,a7 as ae,aX as L,j6 as vn,G as v,B as O,U as h,aB as Ne,bj as Pn,j7 as Ge,bJ as Cn,j8 as bn,gc as kn,hl as Ve,aQ as N,fC as oe,fz as g,j9 as Mn,aO as C,aS as k,ja as An,jb as En,gw as _n,gq as F,aT as Te,gm as We,dC as qe,aI as me,jc as Dn,jd as wn,je as In,ab as xn,e as ve,hk as $e,b0 as Rn,aU as Vn,jf as Tn,jg as On,dS as ge,aR as Bn,jh as Ln,cP as Fn,h1 as jn,b7 as Ke,cQ as Nn,cT as Hn,Y as ye,b5 as Un,N as zn,cU as Yn,cV as Gn,cR as Je,cS as Wn,as as _e,h8 as qn,ji as $n,jj as Kn,cZ as Jn,c_ as He,cY as Qn,c$ as Ue,jk as Xn,bt as Zn,d0 as es,ha as ns,hb as ss,h9 as Qe,hi as ts,du as Pe,jl as is,cB as as,cz as os,jm as Ce,jn as Xe,jo as rs,H as ls,$ as cs,h as ds,au as us,aw as hs,jp as ps,gA as ms,bW as gs,d4 as ys,jq as fs,jr as Ss,da as vs,js as Ze,fR as Ie,hf as Ps,jt as Cs,dF as bs,i0 as ks,S as se,g3 as Ms,ju as As,x as Es,g1 as pe,t as Y,C as fe,g2 as _s,gB as Ds,r as ws,s as Is,dD as xs,o as Rs,jv as Vs,d8 as Ts,gp as Os,jw as De,jx as Bs,aK as Ls,M as Fs,jy as js,jz as Ns,jA as Hs}from"./app.ZXowmuNl.js";import{D as Us,S as zs,u as Ys,E as Gs,a as Ws,P as qs}from"./DeliveryMethodSelectorSection.CCrbWLQZ.js";import{R as en,L as $s}from"./LocalizationExtensionField.CklS89pI.js";import{U as Ks}from"./UnavailableInBuyerLocationBanner.DicRlttb.js";import{S as Js}from"./ShipmentBreakdown.D68nFBbS.js";import{R as Qs,P as Xs}from"./PayButtonSection.DrIvIGAk.js";import Zs from"./component-ShopPayVerificationSwitch.B-Rz03-c.js";import"./useEditorShopPayNavigation.BW6wgx4n.js";import"./VaultedPayment.DV7Aq7Q7.js";import"./ShopPayOptInDisclaimer.DFHycp8H.js";import"./MerchandiseModal.BPtcnyj2.js";import"./StackedMerchandisePreview.aoM-w7_c.js";import"./useSubscribeMessenger.DwS1Pxbm.js";import"./index.BZKzUk0m.js";const et=rn({load:()=>ln(()=>cn(()=>import("./component-ShopPayWrapper.BX2Rk6ld.js"),__vite__mapDeps([0,1,2,3,4])))});function nt({filteredAvailableDeliveryAddresses:t,selectedAddressId:s,handleChange:a}){const i=G(()=>t?new Map(t.map(o=>[o.id,o.address])):new Map,[t]),n=G(()=>new Map,[]);return e(un.Provider,{value:!0,children:e(dn,{id:"modal_shipping_address",addressType:"shipping",selectedId:s,onChange:a,choices:n,ephemeralAddressChoices:i})})}function st({shippingAddress:t}){const{nameLine:s,primary:a,secondary:i}=hn({address:t}),n=`${s}, ${a}`;return e(z,{padding:"large100",background:"subdued",borderRadius:"base",children:e(Fe,{tone:"accent",children:[e(te,{children:e(Fe,{type:"strong",children:n})}),e(te,{children:i})]})})}function tt(){const t=j(),s=ie(),a=s.mustSelectProvidedAddress.value,i=s.availableDeliveryAddresses.value,[n]=pn(),{setSelectedAddress:o,selectedAddress:c}=mn(),d=gn(),y=d?yn(d):!1,{record:p}=fn(),{name:r}=Se(),[P]=Sn(),[u,m]=we(c?.id),l=G(()=>a?i:i?.filter(S=>!n.find(V=>je(V.address,S.address))),[n,i,a]),M=G(()=>n?.some(S=>c?je(S.address,c.address):!1),[c,n]),E=l?.length===0,D=i&&i.length>=1&&!E&&!M,f=n?.length>=1,x=!!(!a&&D&&f&&!y),[w,R]=we(x);ae(()=>{w&&p({schemaId:"shopify_pay_payment_page_ui_impression/2.0",payload:{elementText:l?.length===1?"single_address":"multiple_addresses",elementType:"shop_pay_merchant_set_address_modal",shopAccountUuid:P}})},[w]);const _=L(S=>{p({schemaId:"shopify_pay_payment_page_ui_interaction/1.1",payload:{action:S}})},[p]),b=L(()=>{_("shop_pay_proposed_address_modal_continue");const S=l?.find(V=>V.id===u);o(S,"shipping_address"),R(!1)},[l,u,o,_]),H=L(()=>{_("shop_pay_proposed_address_modal_use_saved_address");const S=vn(n);S&&o(S,"shipping_address"),R(!1)},[o,n,_]),A=G(()=>l?new Map(l.map(S=>[S.id,S])):new Map,[l]),K=L(S=>{const V=A.get(S);m(V.id)},[A,m]),T=l?.length===1?e(st,{shippingAddress:l[0].address}):e(nt,{filteredAvailableDeliveryAddresses:l,selectedAddressId:u,handleChange:K});return e(Pn,{size:"large",open:w,padding:!0,title:t("shop_pay.review_address_modal.title","Review address"),onClose:b,children:[e(v,{children:t("shop_pay.review_address_modal.subtitle",{count:l?.length||0,merchant:r},{one:"This order will be shipped to the address provided by %{merchant}.",other:"This order will be shipped to an address provided by %{merchant}. Select a shipping address."})}),e(O,{spacing:"base"}),T,e(O,{spacing:"large200"}),e(h,{spacing:"small400",children:[e(Ne,{variant:"primary",inlineSize:"fill",onClick:b,children:t("shop_pay.review_address_modal.continue","Continue with this address")}),e(Ne,{inlineSize:"fill",onClick:H,children:t("shop_pay.review_address_modal.use_saved_address","Use a different address")})]})]})}function it(){const{acceptTipPayments:t}=Se(),{shopifyInstallments:s}=Ge();Cn();const a=bn(),i=kn(),n=Ve(),{Tips:o,PurchaseOrderNumberField:c,GiftCardRedemption:d,StoreCreditRedemption:y,Installments:p,PaymentMethodSelector:r}=N(),{isOrderEditCheckout:P}=oe(),u=n?.tippingPaymentAllowed??!0,m=!P&&t&&u,l=g({shopPay:m&&!s(),default:m}),M=Mn({showTips:l,billingFormPosition:a}),E=C("purchase.checkout.payment-method-list.render-before"),D=C("purchase.checkout.payment-method-list.render-after");return e(Te,{target:"cart.paymentLines[0]",children:e(h,{children:[e(at,{}),e(k,{extensions:E}),e(An,{}),e(y,{}),e(p,{}),e(h,{spacing:"large400",children:[e(En,{dynamicPaymentExtensions:M.shift()||[],children:[e(r,{}),e(k,{extensions:D}),e(k,{extensions:M.shift()||[]}),e(d,{})]}),i&&e(_n,{}),e(c,{showHeading:!1})]}),l&&e(v,{children:[e(F,{sectionId:"tips",children:e(o,{})}),e(k,{extensions:M.shift()||[]})]}),e(en,{}),e(k,{extensions:M.flat()})]})})}function at(){const t=j(),s=We(),a="payment",i=qe().currentUrl.hash===`#${a}`,n=s?`${t("payment.billing_must_match_shipping_notice","Your payment methodâ€™s billing address must match the shipping address.")} `:"",o=t("payment.card_security_notice","All transactions are secure and encrypted.");return e(h,{spacing:"small400",children:[e(me,{id:a,level:1,autoFocus:i,children:t("payment.title","Payment")}),e(te,{color:"subdued",children:n+o})]})}function ot(){const t=j(),{availableDeliveryMethodsLoading:s,progressiveShippingRatesLoading:a}=wn(),i=s&&!a,{selectedDeliveryMethod:n}=In({onChange:()=>{},prerequisitesLoading:s||i}),o=n?t("order_summary.updated_shipping_method",{shipping_method:n.title},"Updated shipping method: %{shipping_method}"):void 0;return ae(()=>{if(o)return xn({content:o})},[o]),null}function rt(){return Dn("ONE_TIME_PURCHASE")?e(ot,{}):null}function lt(){const{negotiate:t}=ve(),s=$e(),a=ie(),i=a.shippingAddress.value,n=a.billingAddress.value,o=Rn(),{value:c=[]}=Vn(),d=Tn(c),y=On(c),{shippingRequired:p}=ge(),r=p?i.countryCode:n.countryCode,P=s?.value?.countryCode,u=JSON.stringify(s?.value,(m,l)=>l===void 0?null:l);ae(()=>{d||y||P&&r!==P&&(o.counter({name:"country_code_mismatch",value:1}),o.log("[EnsureBackAndFrontEndCountryCodeAlignment] There was a mismatch between the preselected and the buyerIdentity countryCode on checkout load.",{selectedCountryCode:r,buyerIdentityCountryCode:P,buyerIdentity:u}),t({silenceViolations:["all"],progression:!1}))},[])}function ct({showSmsMarketingOptIn:t=!1}){const s=C("Checkout::Contact::RenderAfter"),a=C("Checkout::Dynamic::Render","INFORMATION1"),i=C("Checkout::Dynamic::Render","INFORMATION2"),{ContactForm:n}=N();return e(v,{children:[a.length?e(v,{children:e(k,{extensions:a,spacing:"base",marginBlockEnd:"large300"})}):null,e(Bn,{impressionType:"contact",impressionFeatures:[],children:[e(n,{showSmsMarketingOptIn:t}),s.length?e(v,{children:e(k,{extensions:s,marginBlockStart:"base"})}):null,i.length?e(v,{children:e(k,{extensions:i,spacing:"large200",marginBlockStart:"large300"})}):null]})]})}function dt({showSmsMarketingOptIn:t=!1}){return Ln(),e(h,{spacing:"large300",children:[e(Us,{}),e(ut,{showSmsMarketingOptIn:t})]})}function ut({showSmsMarketingOptIn:t}){const s=Fn(),{method:a}=jn(),i=j(),{activeWalletSessionSignal:n}=Ke(),{value:o}=Nn(),c=Hn(),d=ye(Un),{showShipmentBreakdown:y}=zn(),p=C("Checkout::DeliveryAddress::RenderBefore"),r=C("purchase.checkout.delivery-address.render-after"),{hasMultipleDeliveryGroups:P,onlyDeliveryGroupType:u}=Yn(),{extensionsBefore:m,extensionsAfter:l}=Gn({hasMultipleDeliveryGroups:P,targeted:!1}),M=c||y,E=Je(),D=Wn(),{negotiate:f}=ve(),x=L(({shipping:A})=>{n.peek()||f({include:["shippingAddress"],fieldsToResolve:["deliveryNext"],silenceViolations:["non-delivery-address"],runListenersOnError:!0}),A.value=!0,E("sectionComplete",{section:"deliveryAddress",timestamp:new Date}),D({type:"section_complete",section:"deliveryAddress"})},[n,f,E,D]),w=L(({shipping:A})=>{A.value=!1},[]),R=A=>e(_e,{padding:M?["small400","none"]:"none",children:A}),_=t?e(Qe,{}):null,b="shippingMethod",H=qe().currentUrl.hash===`#${b}`;switch(a){case"PICKUP_POINT":return e(v,{children:[e(F,{sectionId:"pickupPoints",children:e(ss,{})}),_]});case"PICK_UP":return e(v,{children:[e(F,{sectionId:"localPickup",children:e(ns,{})}),_]});default:return e(F,{sectionId:"shipping",children:[e(_e,{accessibilityLabel:i("delivery_options.shipping_address","Shipping address"),children:e(h,{spacing:"base",children:[e(k,{extensions:p}),e(h,{spacing:"large300",children:[e(qn,{children:e($n,{onValid:x,onInvalid:w,children:e(Kn,{children:[e(zs,{}),_]})})}),e(k,{extensions:r}),e(h,{spacing:M?"small400":"base",children:[e(me,{id:b,level:d?1:2,autoFocus:H,children:i("shipping.shipping_method_title","Shipping method")}),e(Jn,{children:[y?e(He,{children:[e(Js,{}),e(O,{spacing:"small200"})]}):null,Qn("shipping.shipping_method_notice",s)?e(te,{children:i("shipping.shipping_method_notice"," ")}):null,e(k,{extensions:m,options:{groupType:u&&Ue(u),includeDeliverySelectionGroups:!1},render:R}),e(He,{children:[e(Xn,{}),e(Zn.Preload,{})]}),e(k,{extensions:l,options:{groupType:u&&Ue(u),includeDeliverySelectionGroups:!1},render:R})]})]})]})]})}),o?.refuseDutiesPermitted&&e(_e,{accessibilityLabel:i("shipping.duties_and_taxes_title","Duties and taxes"),children:e(h,{spacing:"base",children:[e(me,{level:2,children:i("shipping.duties_and_taxes_title","Duties and taxes")}),e(es,{})]})})]})}}function ht({showSmsMarketingOptIn:t=!1}){const s=j(),a=We(),{DeliveryHeading:i}=N(),n=C("Checkout::Dynamic::Render","DELIVERY1");return e(Pe,{children:e(h,{children:[e(h,{spacing:"small400",children:[e(i,{}),a&&e(te,{color:"subdued",children:s("shipping.shipping_used_as_billing_notice","This will also be used as your billing address for this order.")})]}),e(Ks,{}),e(ts,{children:e(dt,{showSmsMarketingOptIn:t})}),e(k,{extensions:n})]})})}function pt(){const t=ie(),s=t.email.value,a=t.phone.value,i=j(),{isOrderEditCheckout:n}=oe(),o=is(),[c,d]=we(!1),y=g({customerAccount:s&&typeof s=="string"&&o,default:!1}),{VaultedContact:p}=N(),r=g({businessCustomer:!1,shopPay:!1,default:!0}),P=y&&e(Zs,{email:s,open:c,showPopover:u=>{d(u)}});if(n&&r){const u=s||a;return e(v,{children:[e(as,{id:"contact",label:i("contact.contact_method_title","Contact"),summary:u?e("p",{children:u}):e(os,{})}),P]})}return e(v,{children:[e(p,{emailAddress:s}),P]})}const mt="ILN3z",he={DivideChildren:mt,"DivideChildren--no-initial-divider":"TiyE2","DivideChildren--no-final-divider":"wyrwY","DivideChildren--final-mobile-divider":"_8S1mj"};function ze({hideLastDivider:t}){const s=Ce(),{negotiate:a}=ve(),{isOrderEditCheckout:i}=oe(),{shippingRequired:n}=ge(),{shippingRequired:o}=ge(),c=i&&o,{VaultedPayment:d,ReviewNotice:y,VaultedDelivery:p,VaultedBillingAddress:r,VaultedCashRedemption:P}=N(),u=Xe(),m=rs(),l=g({guest:!0,default:!1}),M=g({businessCustomer:s.payment,guest:!0,default:!1}),E=g({amazonPay:!0,buyWithPrime:!0,payPal:!0,googlePay:!0,shopPay:!0,default:!1}),D=g({businessCustomer:!0,default:!1}),f=s.delivery&&(n||c&&i),x=g({businessCustomer:!n,default:!1}),w=[...s.contact?[e(pt,{},"contact")]:[],...f?[e(p,{},"delivery")]:[],..._()];if(ae(()=>{w.length>0&&a({silenceViolations:["all"]})},[]),w.length===0)return null;return e(z,{...{},children:[m?e(Qs,{}):null,m&&E?e(ls,{below:"large",children:e(O,{})}):null,u&&e(y,{}),e("div",{className:cs({[he.DivideChildren]:!0,[he["DivideChildren--no-final-divider"]]:t||M===!0,[he["DivideChildren--no-initial-divider"]]:l,[he["DivideChildren--final-mobile-divider"]]:D}),children:w})]});function _(){if(i)return s.payment?[e(d,{},"payment")]:[];const b=[];return x&&b.push(e(r,{},"businessCustomerBilling")),s.payment&&(b.push(e(d,{},"payment")),b.push(e(P,{},"cashRedemption")),s.billing&&!x&&b.push(e(r,{},"billingAddress"))),b}}function nn({includeContactAfterExtensions:t}={includeContactAfterExtensions:!1}){const s=Ce(),a=C("Checkout::Contact::RenderAfter"),i=C("Checkout::Dynamic::Render","INFORMATION1"),n=C("Checkout::Dynamic::Render","INFORMATION2"),o=C("Checkout::Dynamic::Render","DELIVERY1"),c=C("Checkout::Dynamic::Render","DELIVERY2"),d=C("Checkout::Dynamic::Render","PAYMENT1"),y=C("Checkout::Dynamic::Render","PAYMENT2"),p=C("Checkout::Dynamic::Render","PAYMENT3");return G(()=>{let r=[];return s.contact&&(r=[...t?a:[],...i,...n]),s.delivery&&(r=[...r,...o,...c]),s.payment&&(r=[...r,...d,...y,...p]),r},[s,t,a,i,n,o,c,d,y,p])}function It({children:t}){const s=g({shopPay:!0,default:!1}),a=ds("simulated"),{searchParams:i}=us(),n=a&&!!i.get("shop_pay_sim");return n||s?e(et,{simulated:n,children:[t,e(Ye,{})]}):e(v,{children:[t,e(Ye,{})]})}function Ye(){const t=hs(),s=ie().email.value,{progress:a}=ve(),{shippingRequired:i}=ge(),n=Ce(),[o]=ps(),{postPurchaseEnabled:c}=ms(),d=j(),y=gs(),p=ys(),{isOrderEditCheckout:r}=oe(),{emailMarketing:P,smsMarketing:u}=Se(),m=fs(),l=Je(),M=Xe(),E=P!=="OFF",D=Ss(),f=Ve(),x=vs(),{value:w}=$e(),R=ye(js),_=Ze(),b=m.hasViolation&&m.lineItems.length>0;lt(),ae(()=>{b&&l("inventoryPriceChange",{element:{tagName:"modal"},timestamp:new Date,visible:!0})},[b,l]);const H=L(()=>{m.updateProposal()},[m]),A=Ie({base:!0,medium:!1}),K=Ie({base:!1,small:!0}),T=Ps(),S=g({guest:T,customerAccount:T,sdkCartHints:T,externalVault:T,default:!1}),V=C("Checkout::Contact::RenderAfter"),J=g({shopPay:y&&!!(A&&!K),default:!1}),re=g({shopPay:E,default:E&&n.contact}),le=g({shopPay:tt,default:v}),ce=R&&!Cs(w?.countryCode),de=g({businessCustomer:!1,sdkCartHints:!!(E&&n.contact&&s),default:re&&!x&&!ce&&!r}),U=g({shopPay:"belowPayment",default:n.payment?"belowPayment":"abovePayment"});let W=g({shopPay:!1,businessCustomer:!1,default:u!=="OFF"});f&&!f.smsMarketingEnabled&&(W=!1);const X=i&&!n.delivery?"delivery":n.contact?"root":"contact",Z=de&&U==="belowPayment",be=de&&U==="abovePayment",ee=Z&&(A??!1),ne=!r&&be&&!p?.acceptsEmailMarketing,q=!r&&W&&X==="root"&&!p?.acceptsSmsMarketing,ke=g({shopPay:v,sdkCartHints:v,default:Pe}),$=g({guest:n.delivery,businessCustomer:!n.delivery&&n.payment,default:!1}),Me=g({guest:$&&!(n.contact&&n.payment),businessCustomer:$,default:!1}),I=n.contact&&!(n.delivery&&n.payment)&&V.length>0&&(ne||q||A)?V:void 0,{PriceChangeModal:ue,SignUpContact:Ee}=N(),{walletPaymentMethods:sn}=Ke(),tn=Ys(sn),an=ye(Ns),Le=nn({includeContactAfterExtensions:I===void 0}),{main:{section:on}}=bs(),B=ks(on);return e(v,{children:[e(h,{spacing:se.default("none").when({viewportInlineSize:{min:"extraSmall"}},"large200"),children:[r?e(h,{padding:se.default(["large200","large200","none","large200"]).when({viewportInlineSize:{min:"extraSmall"}},"none"),children:e(Ms,{})}):null,e(As,{section:"top"}),e(Es,{onSubmit:()=>a(void 0,{skipToCompletion:M}),children:[e("div",{ref:tn,children:e(pe,{hideDivider:n.payment&&!ee,condition:!B,children:[S&&e(v,{children:[e(pe,{condition:B,hideDivider:!0,padding:J?["none","large200","large200","large200"]:void 0,children:e(h,{spacing:"none",children:e(F,{sectionId:"expressCheckout",children:e(Y,{section:"expressCheckout",children:e(Gs,{})})})})}),e(Ws,{})]}),e(pe,{condition:B,padding:!S&&J?["none","large200","large200","large200"]:void 0,children:e(h,{spacing:"none",children:[!n.contact&&e(fe,{section:"contact",children:e(Y,{section:"contact",children:e(ct,{showSmsMarketingOptIn:!r&&W&&X==="contact"})})}),!$&&e(ze,{hideLastDivider:B}),D&&e(en,{variant:"minimal"}),!B&&e(Y,{section:"contact",children:e(xe,{renderAsVaulted:!0,showMarketingDisclosure:ne||ee,showSmsMarketingOptIn:q&&U!=="belowPayment",afterContactExtensions:I})})]})})]})}),e(Ee,{}),B&&e(Y,{section:"contact",children:e(xe,{showMarketingDisclosure:ne,showSmsMarketingOptIn:q&&U!=="belowPayment",afterContactExtensions:I})}),Me&&i&&e(_s,{condition:$,accessibilityLabel:d("shipping.delivery_title","Delivery"),children:e(ze,{hideLastDivider:B})}),!_&&Le.length?e(Re,{extensions:Le,hideDivider:"whenEmpty"}):null,!n.delivery&&i&&e(Te,{target:"cart.deliveryGroups[0].deliveryAddress",children:e(fe,{section:"delivery",children:e(Y,{section:"delivery",children:e(F,{sectionId:"delivery",children:e(ht,{showSmsMarketingOptIn:!r&&W&&X==="delivery"})})})})}),t&&e(gt,{showVaultedStateMarketingDisclosureBelowPayment:Z,showVaultedStateMarketingDisclosureOnMobile:ee,showPartialVaultedStateSmsMarketingOptIn:q&&U==="belowPayment",isSectionCustomized:B,VaultedStateMarketingDisclosureWrapper:ke,includeContactAfterExtensions:I===void 0})]},o),c&&e(Ds,{})]}),b&&e(ue,{loading:m.loading,lineItems:m.lineItems,onClose:H}),i&&e(rt,{}),an&&e(le,{}),e(qs,{id:"OnePage"})]})}function gt({showVaultedStateMarketingDisclosureBelowPayment:t,showVaultedStateMarketingDisclosureOnMobile:s,isSectionCustomized:a,VaultedStateMarketingDisclosureWrapper:i,showPartialVaultedStateSmsMarketingOptIn:n,includeContactAfterExtensions:o}){const c=j(),d=Ce(),y=Ze(),p=ws(),r=Is(),{merchantPolicies:P,acceptTipPayments:u}=Se(),{currentDetour:m}=xs(),l=ye(Hs),M=Rs(),E=g({shopPay:!d.payment,default:!1}),{isOrderEditCheckout:D}=oe(),f=Ie({base:!0,medium:!1}),x=ie().localizationExtensions.value,w=x.length>0,R=se.default("block").when({viewportInlineSize:{min:"medium"}},"none"),_=se.default("none").when({viewportInlineSize:{min:"medium"}},"block"),b=se.default("none").when({viewportInlineSize:{min:"small"}},"block"),{shopifyInstallments:H}=Ge(),{setChatHideTriggerNode:A}=Vs(),K=L(I=>{A(f&&I?I:null)},[f,A]),T=t&&!f,V=Ve()?.tippingPaymentAllowed??!0,J=d.payment&&u&&V,re=g({shopPay:J&&!H(),default:J}),le=Ts().isPartner(),ce=P?.find(I=>I.handle==="subscription-policy"),de=ce!=null,U=G(()=>l&&m?.type==="thankYou"?"Checkout::ThankYou::Dynamic::Render":"Checkout::Dynamic::Render",[m?.type,l]),Oe=C(U,"ORDER_SUMMARY4"),W=!!M.value,Q=nn({includeContactAfterExtensions:o}),X=Os(),{Tips:Z,Rewards:be,CashRedemption:ee,SubscriptionPolicy:ne,Captcha:q,MarketingDisclosure:ke,BillingSection:$,PurchaseOptionsAgreement:Me,MobileOrderSummary:Be,CheckoutAsGuest:Ae}=N();return e(v,{children:e(De,{min:"medium",accessibilityLabel:c("payment.title","Payment"),hideDivider:!0,children:[X?e(Bs,{}):null,!d.payment&&e(fe,{section:"payment",children:e(Y,{section:"payment",children:e(De,{max:"medium",accessibilityLabel:c("payment.title","Payment"),children:e(it,{})})})}),!d.payment&&e(ee,{}),w&&e(Pe,{accessibilityLabel:c("localized_fields.additional_information.title","Additional information"),children:e(h,{padding:f?"none":["large400","none","none","none"],children:[e(me,{level:2,children:c("localized_fields.additional_information.title","Additional information")}),x.map((I,ue)=>{const Ee=`${I.value.key}${ue}`;return e($s,{localizationExtension:I,index:ue},Ee)})]})}),s&&a&&e(i,{children:e(ke,{})}),!D&&re&&e(z,{display:R,children:e(F,{sectionId:"tips",children:e(Z,{renderInSection:f})})}),f&&y&&Q.length?e(Re,{extensions:Q}):null,e(fe,{section:"summary",children:e(Y,{section:"summary",children:e("div",{ref:K,children:[e(De,{max:"medium",hideDivider:!0,children:[e(Be,{}),e(h,{spacing:"large400",children:[e(h,{spacing:"base",children:[T&&E&&e(h,{spacing:"none",children:[e(O,{spacing:"base"}),e(Ls,{})]}),e(xe,{renderAsVaulted:!0,showMarketingDisclosure:T,showSmsMarketingOptIn:n,children:e($,{})}),!D&&re&&e(z,{display:_,children:e(F,{sectionId:"tips",children:e(Z,{})})}),!f&&y&&Q.length?e(Re,{extensions:Q}):null,W&&e(h,{padding:f?"none":["large400","none","none","none"],children:e(Fs,{textProps:{color:"subdued",size:"small"}})})]}),e(h,{spacing:"large200",children:[p&&e(Me,{}),r&&e(q,{}),e(Xs,{}),de&&e(ne,{policy:ce}),f&&e(k,{extensions:Oe,spacing:"large200"})]})]}),e(be,{}),!le&&e(v,{children:[e(O,{spacing:"large100"}),e(z,{inlineAlignment:"center",children:e(Ae,{})}),e(z,{display:b,children:e(O,{spacing:"base"})})]})]}),le&&e(v,{children:[e(O,{spacing:"large100"}),e(z,{inlineAlignment:"center",children:e(Ae,{})}),e(O,{spacing:"base"})]})]})})})]})})}function xe({showMarketingDisclosure:t,showSmsMarketingOptIn:s,afterContactExtensions:a,renderAsVaulted:i,children:n}){const{MarketingDisclosure:o}=N();return!t&&!s&&!a?n:e(Te,{target:"cart.buyerIdentity",children:e(pe,{condition:!i,children:e(h,{spacing:i?"base":void 0,padding:i?["base","none","none","none"]:void 0,children:[(t||s)&&e(h,{spacing:t&&s?"base":"none",children:[t&&e(o,{}),s&&e(Qe,{})]}),a&&e(k,{extensions:a}),n]})})})}function Re({extensions:t,hideDivider:s="always"}){return e(Pe,{hideDivider:s,children:e(k,{spacing:"base",extensions:t})})}export{Ye as OnePageContent,xe as PartialVaultedMarketingConsentMarkup,Re as VaultedExtensionsSection,It as default};
